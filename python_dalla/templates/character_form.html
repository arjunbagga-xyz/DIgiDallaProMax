{% extends "base.html" %}
{% block title %}{{ title }}{% endblock %}
{% block content %}
<h1 class="mt-5">{{ title }}</h1>
<form method="post" action="{{ action }}">
    <div class="form-group">
        <label for="name">Name</label>
        <input type="text" class="form-control" id="name" name="name" value="{{ character.name if character else '' }}" required>
    </div>
    <div class="form-group">
        <label for="personality">Personality</label>
        <textarea class="form-control" id="personality" name="personality" rows="3">{{ character.personality if character else '' }}</textarea>
    </div>
    <div class="form-group">
        <label for="backstory">Backstory</label>
        <textarea class="form-control" id="backstory" name="backstory" rows="5">{{ character.backstory if character else '' }}</textarea>
    </div>
    <div class="form-group">
        <label for="instagramHandle">Instagram Handle</label>
        <input type="text" class="form-control" id="instagramHandle" name="instagramHandle" value="{{ character.instagramHandle if character else '' }}">
    </div>
            <hr>
            <h5>Instagram API Credentials</h5>
            <p class="text-muted">These are required for posting content to Instagram. Leave blank if you don't want to enable posting for this character.</p>
            <div class="form-group">
                <label for="instagram_account_id">Instagram Account ID</label>
                <input type="text" class="form-control" id="instagram_account_id" name="instagram_account_id" value="{{ character.instagram_account_id if character else '' }}">
            </div>
            <div class="form-group">
                <label for="instagram_access_token">Instagram Access Token</label>
                <input type="password" class="form-control" id="instagram_access_token" name="instagram_access_token" value="{{ character.instagram_access_token if character else '' }}">
            </div>
    <div class="form-group">
        <label for="preferredModel">Preferred Model</label>
        <input type="text" class="form-control" id="preferredModel" name="preferredModel" value="{{ character.preferredModel if character else '' }}" placeholder="e.g., model.safetensors">
    </div>
    <div class="form-group form-check">
        <input type="checkbox" class="form-check-input" id="isActive" name="isActive" {% if character and character.isActive %}checked{% endif %}>
        <label class="form-check-label" for="isActive">Is Active</label>
    </div>
    <button type="submit" class="btn btn-primary">Save Character</button>
    <a href="{{ url_for('list_characters') }}" class="btn btn-secondary">Cancel</a>
</form>
{% endblock %}
